<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			
			//使用Ajax步骤：
			//1、创建XMLHttpRequest对象
			var xhr = new XMLHttpRequest();
			console.log(xhr.readyState);
			//readystatechange  XMLHttpRequest对象状态改变回调事件
			xhr.onreadystatechange = function () {
				
				//console.log("----" + xhr.status);
				
				if (xhr.readyState == 4 && xhr.status == 200) {
					
					try{
						//json格式字符串
						//下载到数据后要解析数据
						var data = JSON.parse(xhr.responseText);
						console.log(data);
					}catch(e){
						//TODO handle the exception
						console.log("JSON格式错误"  + e);
					}
					
					
				}
				if (xhr.readyState == 3) {
					console.log(3);
				}
				if (xhr.readyState == 2) {
					console.log(2);
				}
				if (xhr.readyState == 1) {
					console.log(1);
				}
				if (xhr.readyState == 0) {
					console.log(0);
				}
			}
			
			//2、设置网络请求，准备发起网络请求
			//URL地址
			var url = "http://lolbox.oss.aliyuncs.com/json/v3/news/newslist_99_1.json";
			xhr.open("GET", url, true);
			//3、发起网络请求
			xhr.send(null);
			
			//取消网络请求
			//xhr.abort()
			
			//将请求回的数据在控制台打印出来
			//console.log(xhr.responseText);
			
			
		</script>
	</body>
</html>
